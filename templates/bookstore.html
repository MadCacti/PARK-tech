{% extends "layouts/base.html" %}
{% block content %}
<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>Buy Books!</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
</head>
<body></body>
</html>

<div class="container-fluid mt-5">
    <h2 class="mb-5 text-center">Bookstore</h2>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="table-responsive">
                <table id="myTable" class="table">
                    <thead>
                    <tr>
                        <th>Product</th>
                        <th>Name</th>
                        <th>Qty</th>
                        <th>Price</th>
                        <th class="text-right">
                            <span id="amount" class="amount">Amount</span>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <div class="product-img">
                                <div class="img-prdct">
                                    <img src="https://user-images.githubusercontent.com/45216311/152872399-3490843a-0743-439a-a566-1589a370109a.jpg">
                                </div>
                            </div>
                        </td>
                        <td>
                            <p>Great Gatsby</p>
                        </td>
                        <td>
                            <div class="button-container">
                                <button class="cart-qty-plus" type="button" value="+">+</button>
                                <input type="text" name="qty" min="0" class="qty form-control" value="0"/>
                                <button class="cart-qty-minus" type="button" value="-">-</button>
                            </div>
                        </td>
                        <td>
                            <input type="text" value="10" class="price form-control" disabled>
                        </td>
                        <td align="right">$ <span id="amount" class="amount">0</span>
                        </td>
                    </tr>
                    <!---- add more tr  ---------->
                    <tr>
                        <td>
                            <div class="product-img">
                                <div class="img-prdct">
                                    <img src="https://user-images.githubusercontent.com/45216311/152872186-1aa6f08b-5266-488c-95a6-111bda51e2aa.jpg">
                                </div>
                            </div>
                        </td>
                        <td>
                            <p>Harry Potter and the Goblet of Fire</p>
                        </td>
                        <td>
                            <div class="button-container">
                                <button class="cart-qty-plus" type="button" value="+">+</button>
                                <input type="text" name="qty" min="0" class="qty form-control" value="0"/>
                                <button class="cart-qty-minus" type="button" value="-">-</button>
                            </div>
                        </td>
                        <td>
                            <input type="text" value="12" class="price form-control" disabled>
                        </td>
                        <td align="right">$ <span id="amount" class="amount">0</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="product-img">
                                <div class="img-prdct">
                                    <img src="https://user-images.githubusercontent.com/45216311/152872525-feecf6bc-1309-4620-839d-e2420d6ad63b.jpg">
                                </div>
                            </div>
                        </td>
                        <td>
                            <p>Animal Farm</p>
                        </td>
                        <td>
                            <div class="button-container">
                                <button class="cart-qty-plus" type="button" value="+">+</button>
                                <input type="text" name="qty" min="0" class="qty form-control" value="0"/>
                                <button class="cart-qty-minus" type="button" value="-">-</button>
                            </div>
                        </td>
                        <td>
                            <input type="text" value="7" class="price form-control" disabled>
                        </td>
                        <td align="right">$ <span id="amount" class="amount">0</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="product-img">
                                <div class="img-prdct">
                                    <img src="https://user-images.githubusercontent.com/45216311/152872467-40adfca4-5e65-4b78-9b12-a7127b0f5ee0.jpg">
                                </div>
                            </div>
                        </td>
                        <td>
                            <p>Cat In The Hat</p>
                        </td>
                        <td>
                            <div class="button-container">
                                <button class="cart-qty-plus" type="button" value="+">+</button>
                                <input type="text" name="qty" min="0" class="qty form-control" value="0"/>
                                <button class="cart-qty-minus" type="button" value="-">-</button>
                            </div>
                        </td>
                        <td>
                            <input type="text" value="6" class="price form-control" disabled>
                        </td>
                        <td align="right">$ <span id="amount" class="amount">0</span>
                        </td>
                    </tr>
                    <!---- add more tr  ---------->
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="4"></td>
                        <td align="right">
                            <strong>TOTAL = $  <span id="total" class="total">0</span>
                            </strong>
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
    <script src='https://code.jquery.com/jquery-3.4.1.min.js'></script>
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js'></script>
</body>
</html>

<style>
    @import url('https://fonts.googleapis.com/css?family=Roboto');

    body{
        font-family: 'Roboto', sans-serif;
    }
    * {
        margin: 0;
        padding: 0;
    }
    i {
        margin-right: 10px;
    }


    input:focus,
    button:focus,
    .form-control:focus{
        outline: none;
        box-shadow: none;
    }
    .form-control:disabled, .form-control[readonly]{
        background-color: #fff;
    }
    .table tr,
    .table tr td{
        vertical-align: middle;
    }
    .button-container{
        display: flex;
        align-items: center;
    }
    .button-container .form-control{
        max-width: 80px;
        text-align: center;
        display: inline-block;
        margin: 0px 5px;
    }
    #myTable .form-control{
        width: auto;
        display: inline-block;
    }
    .cart-qty-plus,
    .cart-qty-minus{
        width: 38px;
        height: 38px;
        background-color: #fff;
        border: 1px solid #ced4da;
        border-radius: .25rem;
    }
    .cart-qty-plus:hover,
    .cart-qty-minus:hover{
        background-color: #5161ce;
        color: #fff;
    }
    .img-prdct{
        width: 50px;
        height: 50px;
        background-color: #5161ce;
        border-radius: 4px;
    }
    .img-prdct img{
        width: 100%;
    }

    thead tr{
        background-color: #343A40;
        color: white;
    }
    .img-prdct{
        width:100px !important;
        height:100px !important;
    }
    .cart-qty-plus{
        background-color:#00a5e8;
        color:white;
        font-weight: 600;
    }
    .cart-qty-minus{
        background-color:#00a5e8;
        color:white;
        font-weight: 600;
</style>

<script>
    $(document).ready(function(){
        update_amounts();
        $('.qty, .price').on('keyup keypress blur change', function(e) {
            update_amounts();
        });
    });

    function update_amounts(){
        var sum = 0.0;
        $('#myTable > tbody  > tr').each(function() {
            var qty = $(this).find('.qty').val();
            var price = $(this).find('.price').val();
            var amount = (qty*price)
            sum+=amount;
            $(this).find('.amount').text(''+amount);
        });
        $('.total').text(sum);
    }

    //----------------for quantity-increment-or-decrement-------
    var incrementQty;
    var decrementQty;
    var plusBtn  = $(".cart-qty-plus");
    var minusBtn = $(".cart-qty-minus");
    var incrementQty = plusBtn.click(function() {
        var $n = $(this)
            .parent(".button-container")
            .find(".qty");
        $n.val(Number($n.val())+1 );
        update_amounts();
    });

    var decrementQty = minusBtn.click(function() {
        var $n = $(this)
            .parent(".button-container")
            .find(".qty");
        var QtyVal = Number($n.val());
        if (QtyVal > 0) {
            $n.val(QtyVal-1);
        }
        update_amounts();
    });
</script>
{% endblock %}